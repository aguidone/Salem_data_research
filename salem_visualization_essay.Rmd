---
title: "Salem_visualization_essay"
author: "a guidone"
date: "3/24/2017"
output: html_document
---

```{r}

library(tidyverse)
library(dplyr)
library(lubridate)
library(stringr)

```

```{r}

salem_crew <- read_csv("salem_crew.csv")
salem_voyages <- read_csv("salem_voyages.csv")

```
```{r}
max(salem_crew$CrewId)

```



```{r}

salem_data_joined_birth_year <- salem_crew %>% 
  left_join(salem_voyages, "VoyageId") %>% 
  select(VoyageId, SortDate, BirthPlace) %>%
  na.omit()

extract_year <- function(x) {
  year_char <- stringr::str_extract(x, "\\d{4}") 
  year_int <- as.integer(year_char)
  year_int
}

salem_data_tidy_birth_year <- salem_data_joined_birth_year %>% 
  mutate(SortDate, Year = extract_year(salem_data_joined_birth_year$SortDate)) %>%
  select(-SortDate)

salem_data_tidy_birth_year_1797_1832 <- salem_data_tidy_birth_year %>%
  filter(Year >= 1797, Year <= 1832)
```


